import{d as h,a as v,u as y,s as k,c as x,j as C,o as d,g as b,k as B,w as I,l as W,b as S,m as j,q as A,n as D,e as L,f as M,x as _,_ as z}from"./index-eea24952.js";const H=["colspan","rowspan"],N={class:"form-widget-list"},O=h({__name:"table-cell-widget",props:{widget:{type:Object,default:()=>{}},parentList:{type:Array,default:()=>[]},parentWidget:{type:Object,default:()=>{}}},setup(e){const l=e,{checkWidgetMove:r,setSelectId:o,emitHistoryChange:i}=v(),c=y(),{selectedId:g}=k(c),w=x(()=>l.widget.id===g.value),p=n=>{r(n)},m=(n,t)=>{const s=n.newIdx;t[s]&&o(t[s]),i()},f=()=>{i()};return(n,t)=>{const s=C("draggable");return d(),b("td",{class:D(["table-cell",[w.value?"selected":""]]),colspan:e.widget.options.colspan||1,rowspan:e.widget.options.rowspan||1,onClick:t[1]||(t[1]=L(a=>M(o)(e.widget),["stop"])),style:_({width:e.widget.options.cellWidth+"!important"||"",height:e.widget.options.cellHeight+"!important"||"","word-break":e.widget.options.wordBreak?"break-all":"normal"})},[B(s,A({list:e.widget.widgetList,"item-key":"id"},{group:"dragGroup",ghostClass:"ghost",animation:200},{tag:"div","component-data":{name:"fade"},handle:".drag-handler",move:p,onAdd:t[0]||(t[0]=a=>m(a,e.widget.widgetList)),onUpdate:f}),{item:I(({element:a,index:u})=>[W("div",N,[(d(),S(j(a.type+"-widget"),{widget:a,key:a.id,"parent-list":e.widget.widgetList,"index-of-parent-list":u,"parent-widget":e.widget},null,8,["widget","parent-list","index-of-parent-list","parent-widget"]))])]),_:1},16,["list"])],14,H)}}});const V=z(O,[["__scopeId","data-v-3a761a6f"]]);export{V as default};
